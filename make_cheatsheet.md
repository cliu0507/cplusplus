# make cheatsheet

## Scenerio:
source c++ files:
1. main.cpp
2. blurb.cpp
3. database.cpp

external library needed: 
1. DansFns library in /usr/class/cs193/danLib

assume the executable name is "textr"
the makefile will look like this:
```
#Makefile for “textr” C++ application #Created by Dan Wilson 1/29/06
  PROG = textr
  CC = g++
  CPPFLAGS = -g –Wall –I/usr/class/cs193d/textrInc
  LDFLAGS = -L/usr/class/cs193/lib –lCoolFns
  OBJS = main.o blurb.o database.o
  $(PROG) : $(OBJS)
          $(CC) $(LDFLAGS) -o $(PROG) $(OBJS)
  main.o :
          $(CC) $(CPPFLAGS) -c main.cpp
  blurb.o :  blurb.h
          $(CC) $(CPPFLAGS) -c blurb.cpp
  database.o : database.h
          $(CC) $(CPPFLAGS) -c database.cpp
clean:
rm -f core $(PROG) $(OBJS)
```


## Makefile Lingo
* “target”: Usually the name of an executable or object file that is generated by g++, but it can also be the name of an action to carry out.

* “prerequisites”: A list of files needed to create the target. If one of these files have changed, then the make utility knows that it has to build the target file again. Also called “dependencies.”

* “command”: An action that make carries out, usually a g++ compilation or linking command. In make, commands are run and generate output just as if they were entered one by one into the UNIX prompt.


## Makefile ABC
A simple Makefile consists of a series of
“rules,” each of the form :
```
target ... : prerequisites ... 
    command
    command command
```

Notes:
1. "make" call executes FIRST rule by default
2. for other rule, type "make \<target\>"
3. make uses a \<Tab\> before each command!!!